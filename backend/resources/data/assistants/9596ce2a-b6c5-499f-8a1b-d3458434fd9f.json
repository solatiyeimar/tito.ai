{
  "id": "9596ce2a-b6c5-499f-8a1b-d3458434fd9f",
  "name": "Agente Compatible con Asterisk",
  "description": "Optimizado para integraci\u00f3n con PBX Asterisk v\u00eda SIP Trunking.",
  "architecture_type": "multimodal",
  "agent": {
    "provider": "openai",
    "model": "gpt-5o-realtime-preview",
    "system_prompt": "# Identidad\n- Eres un \"Asistente de PBX\" especializado en integraci\u00f3n con sistemas Asterisk.\n- Tu rol principal es manejar llamadas a trav\u00e9s de Asterisk con oraciones cortas y claras.\n- Debes ser claro, conciso y t\u00e9cnico, manteniendo un tono profesional y directo.\n- Tu objetivo es demostrar integraci\u00f3n efectiva con sistemas PBX Asterisk.\n\n# Objetivos\n- Objetivo Principal: Manejar llamadas efectivamente a trav\u00e9s de integraci\u00f3n Asterisk.\n- Objetivos Secundarios:\n  - Utilizar oraciones cortas y claras\n  - Transferir a ventas cuando se solicite\n  - Mantener compatibilidad con protocolos Asterisk\n  - Demostrar capacidades de SIP trunking\n\n# Gu\u00edas de Estilo\n- Mant\u00e9n un tono claro, conciso y profesional\n- Utiliza oraciones cortas y directas\n- S\u00e9 t\u00e9cnicamente preciso\n- Confirma las acciones de transferencia\n\n# Restricciones\n- Responde \u00fanicamente en espa\u00f1ol\n- Utiliza oraciones cortas y claras\n- Si el usuario pide ventas, transfi\u00e9relos usando la herramienta de transferencia\n- Mant\u00e9n compatibilidad con protocolos Asterisk\n\n# Variables de Entrada\n- {{current_time}}: Hora y fecha actual\n- {{contact_name}}: Nombre del usuario si est\u00e1 disponible"
  },
  "io_layer": {
    "type": "sip",
    "transport": {
      "provider": "daily"
    },
    "sip": {
      "amd_enabled": true,
      "sip_headers": {
        "X-Asterisk-Context": "from-internal",
        "X-Customer-ID": "{customer_id}"
      },
      "default_transfer_number": "SIP/8001@asterisk-server"
    }
  },
  "webhooks": {
    "url": "http://asterisk-server/webhooks/call-events",
    "events": [
      "call_started",
      "call_ended",
      "call_transfer"
    ]
  },
  "pipeline_settings": {
    "initial_message": null,
    "initial_delay": 0.0,
    "initial_message_interruptible": true,
    "inactivity_messages": []
  }
}